<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3>Action Details</h3>
        <div>
            <button class="btn btn-sm btn-secondary" hx-get="{{ url_for('get_actions_view') }}" hx-target="#pageContent"
                hx-swap="innerHTML" type="button">Back to Actions</button>
            <button class="btn btn-sm btn-warning" hx-get="{{ url_for(edit_url, record_id=action.id) }}"
                hx-target="#pageContent" hx-swap="innerHTML" type="button">Edit</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-3">ID:</dt>
                <dd class="col-sm-9">{{ action.id }}</dd>

                <dt class="col-sm-3">Action Method:</dt>
                <dd class="col-sm-9">
                    <code class="bg-light p-1 rounded">{{ action.action_method }}</code>
                </dd>

                <dt class="col-sm-3">Documentation:</dt>
                <dd class="col-sm-9">
                    {% if action.action_documentation %}
                    <div class="border rounded p-3 bg-light"
                        style="white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 0.9em; max-height: 400px; overflow-y: auto;">
                        {{ action.action_documentation }}</div>
                    {% else %}
                    <span class="text-muted">No documentation available</span>
                    {% endif %}
                </dd>

                <dt class="col-sm-3">Created:</dt>
                <dd class="col-sm-9">
                    {% if action.created_at %}
                    {{ action.created_at.strftime('%Y-%m-%d %H:%M:%S') if action.created_at.strftime else
                    action.created_at }}
                    {% else %}
                    <span class="text-muted">Not recorded</span>
                    {% endif %}
                </dd>

                <dt class="col-sm-3">Last Updated:</dt>
                <dd class="col-sm-9">
                    {% if action.updated_at %}
                    {{ action.updated_at.strftime('%Y-%m-%d %H:%M:%S') if action.updated_at.strftime else
                    action.updated_at }}
                    {% else %}
                    <span class="text-muted">Never updated</span>
                    {% endif %}
                </dd>
            </dl>
        </div>
    </div>

    <div class="mt-3">
        <div id="delete-messages"></div>
        <button class="btn btn-danger" hx-post="/v1/actions/{{ action.id }}/delete" hx-target="#delete-messages"
            hx-swap="innerHTML" hx-confirm="Are you sure you want to delete this action?">
            <i class="bi bi-trash"></i> Delete Action
        </button>
    </div>
</div>